---
title: "Deploy LiveKit"
description: "Deploy LiveKit server for group video calls in ORISO Platform"
---

# Deploy LiveKit

Deploy LiveKit server for group video calls in the ORISO Platform.

<Info>
**LiveKit** handles group video calls (3+ participants) while Matrix handles 1-on-1 calls and chat. LiveKit provides real-time video/audio communication capabilities.
</Info>

## Architecture

- **Matrix Server**: Handles users, authentication, rooms, chat, 1-on-1 calls
- **LiveKit Server**: Handles group video calls (3+ participants)

<Steps>
<Step title="Deploy LiveKit Server">

Deploy LiveKit using the Kubernetes configuration.

```bash
cd ~/online-beratung/caritas-workspace/ORISO-Livekit

# Deploy LiveKit
kubectl apply -f k8s-livekit.yaml

# Wait for LiveKit to be ready
kubectl wait --for=condition=ready pod -l app=livekit -n caritas --timeout=300s

# Check status
kubectl get pods -n caritas -l app=livekit
kubectl get svc -n caritas livekit
kubectl get ingress -n caritas livekit-ingress
```

<Check>
LiveKit pod should be running and service/ingress should be created.
</Check>

</Step>

<Step title="Verify LiveKit Deployment">

Test that LiveKit is accessible and functioning.

```bash
# Check LiveKit logs
kubectl logs -n caritas -l app=livekit --tail=50

# Test LiveKit is running
curl https://livekit.oriso.site

# Check health from within pod
LIVEKIT_POD=$(kubectl get pod -n caritas -l app=livekit -o jsonpath='{.items[0].metadata.name}')
kubectl exec -n caritas -it $LIVEKIT_POD -- wget -O- http://localhost:7880
```

<Check>
LiveKit should respond to health checks and be accessible via HTTPS.
</Check>

</Step>

<Step title="Configure LiveKit Integration">

Configure LiveKit for use with the frontend.

**Configuration:**
- **URL**: `https://livekit.oriso.site`
- **API Key**: Configured in LiveKit deployment
- **API Secret**: Configured in LiveKit deployment
- **Port**: 7880 (HTTP)
- **RTC Ports**: 50000-50100 (UDP)

**Frontend Integration:**

The frontend will use LiveKit for group calls:
- Install `livekit-client` npm package
- Connect to `wss://livekit.oriso.site`
- Use API key for authentication
- Matrix handles signaling, LiveKit handles media

<Info>
See `ORISO-Livekit/README.md` for detailed configuration and integration instructions.
</Info>

</Step>
</Steps>

## Configuration Details

### Ports

| Port | Protocol | Purpose |
|------|----------|---------|
| 7880 | HTTP | LiveKit HTTP API |
| 50000-50100 | UDP | RTC media ports |

### Environment Variables

LiveKit requires the following configuration:
- `LIVEKIT_URL`: WebSocket URL (e.g., `wss://livekit.oriso.site`)
- `LIVEKIT_API_KEY`: API key for authentication
- `LIVEKIT_API_SECRET`: API secret for authentication

### DNS Configuration

For HTTPS access, ensure DNS A record is configured:
- `livekit.oriso.site` â†’ YOUR_SERVER_IP

## Troubleshooting

### LiveKit Pod Not Starting

```bash
# Check pod events
kubectl describe pod -n caritas -l app=livekit

# Check logs
kubectl logs -n caritas -l app=livekit --tail=100

# Check resource limits
kubectl get pod -n caritas -l app=livekit -o yaml | grep -A 5 resources
```

### Cannot Connect to LiveKit

```bash
# Verify service is running
kubectl get svc -n caritas livekit

# Check ingress configuration
kubectl get ingress -n caritas livekit-ingress

# Test connectivity
curl -I https://livekit.oriso.site
```

### RTC Ports Not Accessible

Ensure UDP ports 50000-50100 are open in your firewall:

```bash
# Allow RTC ports
sudo ufw allow 50000:50100/udp
```

## Next Steps

- [Deploy Frontend](/oriso-platform/deploy-frontend) - Configure frontend to use LiveKit
- [Post-Deployment Configuration](/oriso-platform/post-deployment) - Verify complete deployment
- [Verification & Testing](/oriso-platform/verification-testing) - Test video call functionality

